<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CliftonStrengths</title>

    <style>
        body {
            background-color: cornsilk;
        }

        /* section */
        .section {
            display: grid;
            text-align: center;
            margin-top: 5px;
            
            height: 60px;

            /* 양쪽이 같은 크기가 됨 */
            grid-template-columns: 1fr 1fr 1fr 1fr;
        }

        .section button {
            font-size: 110%;
            font-weight: bold;
            color: white;
            border: 0px solid black;
            margin: 1px;
        }

        /* contents */
        .contents {
            display: grid;
            text-align: center;

            /* 양쪽이 같은 크기가 됨 */
            grid-template-columns: 1fr 1fr 1fr 1fr;
        }

        .talents {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr 1fr 1fr;
        }

        .talents button {
            font-size: 110%;
            font-weight: bold;
            padding-top: 20%;
            padding-bottom: 20%;
            margin: 1px;
        }

        /* card type */
        .card_type {
            display: grid;
            text-align: center;
            height: 60px;
            margin: 5px;
            
            /* 양쪽이 같은 크기가 됨 */
            grid-template-columns: 1fr 1fr;
        }

        .card_type button {
            font-size: 120%;
            border: 2px solid gray;
            padding: 1px;
            font-weight: bold;
            margin: 1px;

            background-color: white;
        }

        /* etc */

        .section .executing {
            background-color: rgb(138, 43, 226);
        }
        .executing button {
            color: rgb(138, 43, 226);
            border: 1px solid rgb(138, 43, 226);
            background-color: white;
        }

        .section .influencing {
            background-color: rgb(255, 139, 0);
        }
        .influencing button {
            color: rgb(255, 139, 0);
            border: 1px solid rgb(255, 139, 0);
            background-color: white;
        }

        .section .relationship {
            background-color: rgb(30, 144, 255);
        }
        .relationship button {
            color: rgb(30, 144, 255);
            border: 1px solid rgb(30, 144, 255);
            background-color: white;
        }

        .section .strategy {
            background-color: rgb(0, 153, 0);
        }
        .strategy button {
            color: rgb(0, 153, 0);
            border: 1px solid rgb(0, 153, 0);
            background-color: white;
        }

        #blank {
            opacity: 0;
        }

        .talent:active {
            border: 2px solid yellow;
        }

        .grid {
            display: grid;
            grid-template-columns: 3fr 1fr 1fr;
        }

        .card_view {
            display: grid;
            grid-template-rows: 60px 1fr;
        }

        #card {
            margin: 6px;
        }

    </style>

</head>

<body>

    <div class="grid">

        <div>

            <div class="section">

                <button class="executing">실행력</button>
                <button class="influencing">영향력</button>
                <button class="relationship">대인관계 구축</button>
                <button class="strategy">전략적 사고</button>

            </div>

            <div class="contents">

                <!-- 실행력 -->
                <div class="talents executing">
                    <!-- <div id="책임" name="responsibility" onclick="out_img()">책임</div> -->

                    <button class="talent" name="executing" value="7_책임">책임</button>
                    <button class="talent" name="executing" value="18_정리">정리</button>
                    <button class="talent" name="executing" value="22_공정성">공정성</button>
                    <button class="talent" name="executing" value="25_집중">집중</button>
                    <button class="talent" name="executing" value="27_체계">체계</button>
                    <button class="talent" name="executing" value="29_신념">신념</button>
                    <button class="talent" name="executing" value="30_성취">성취</button>
                    <button class="talent" name="executing" value="32_심사숙고">심사숙고</button>
                    <button class="talent" name="executing" value="34_복구">복구</button>
                    <button name="blank" id="blank">blank</button>

                </div>

                <!-- 영향력 -->
                <div class="talents influencing">

                    <button class="talent" name="influencing" value="8_자기확신">자기확신</button>
                    <button class="talent" name="influencing" value="10_최상화">최상화</button>
                    <button class="talent" name="influencing" value="11_커뮤니케이션">커뮤니케이션</button>
                    <button class="talent" name="influencing" value="20_행동">행동</button>
                    <button class="talent" name="influencing" value="23_존재감">존재감</button>
                    <button class="talent" name="influencing" value="26_주도력">주도력</button>
                    <button class="talent" name="influencing" value="31_승부">승부</button>
                    <button class="talent" name="influencing" value="33_사교성">사교성</button>
                    <button name="blank" id="blank">blank</button>
                    <button name="blank" id="blank">blank</button>

                </div>

                <!-- 대인관계 구축 -->
                <div class="talents relationship">

                    <button class="talent" name="relationship" value="5_공감">공감</button>
                    <button class="talent" name="relationship" value="6_개별화">개별화</button>
                    <button class="talent" name="relationship" value="9_포용">포용</button>
                    <button class="talent" name="relationship" value="12_절친">절친</button>
                    <button class="talent" name="relationship" value="13_개발">개발</button>
                    <button class="talent" name="relationship" value="15_적응">적응</button>
                    <button class="talent" name="relationship" value="16_연결성">연결성</button>
                    <button class="talent" name="relationship" value="19_긍정">긍정</button>
                    <button class="talent" name="relationship" value="28_화합">화합</button>
                    <button name="blank" id="blank">blank</button>

                </div>

                <!-- 전략적 사고 -->
                <div class="talents strategy">

                    <button class="talent" name="strategy" value="1_전략">전략</button>
                    <button class="talent" name="strategy" value="2_배움">배움</button>
                    <button class="talent" name="strategy" value="3_분석">분석</button>
                    <button class="talent" name="strategy" value="4_지적사고">지적사고</button>
                    <button class="talent" name="strategy" value="14_발상">발상</button>
                    <button class="talent" name="strategy" value="17_수집">수집</button>
                    <button class="talent" name="strategy" value="21_회고">회고</button>
                    <button class="talent" name="strategy" value="24_미래지향">미래지향</button>
                    <button name="blank" id="blank">blank</button>
                    <button name="blank" id="blank">blank</button>

                </div>
            </div>
        </div>

        <div class="card_view">

            <div class="card_type">

                <button id="type_1" value="theme deep understanding">테마 심층 이해</button>
                <button id="type_2" value="theme interaction">테마 상호 작용</button>
    
            </div>
    
            <img id="card" src="img/Gallup Strengths Coach.png" alt="Talent Card">

        </div>
        

    </div>

</body>

<!-- script는 body 뒤에 작성 추천 -->
<!-- head 안에 쓰면 변수 나오기 전에 정의되므로 작동 안 할수도 -->
<script>

    //// preset
    var card_type = document.getElementById("type_1");
    var card_page = true;
    var card_talent;

    // default : card type 1 
    card_type.style.backgroundColor = "black";
    card_type.style.color = "white";


    //// card type 선택
    function select_card_type(event) {

        // 이전 비활성화
        card_type.style.backgroundColor = "white";
        card_type.style.color = "gray";
        card_type.style.borderColor = "gray";

        // 새로 활성화
        event.target.style.backgroundColor = "black";
        event.target.style.color = "white";
        event.target.style.borderColor = "black";

        // 변수 업데이트
        card_type = event.target;

        // 카드 업데이트
        update_card();

    }

    //// 재능 선택
    function select_talent(event) {

        // 이전 재능 비활성화
        if (card_talent){
            card_talent.style.color = card_talent.style.borderColor;
            card_talent.style.backgroundColor = "white";
        }

        // update talent
        card_talent = event.target;
        card_talent.style.color = "white";
        card_talent.style.backgroundColor = convert_color(card_talent.name);

        // 카드 업데이트
        update_card();

    }

    //// 이미지 클릭 시 토글
    function push_img(event) {

        card_page = !card_page;

        // 카드 업데이트
        update_card();

    }

    //// 재능 카드 보여주기
    function update_card() {

        // talent 값이 있을 때만
        if (card_talent) {

            var img_loc = 'img/' + card_type.value + '/'
                + convert_page(card_page) + '/'
                + card_talent.value;

            document.getElementById("card").src = img_loc + ".png";

        }
    }

    //// convert file loc
    function convert_page(card_page) {

        var page_loc;
        var list_page_loc;

        // list_page_loc
        if (card_type.id == "type_1") {
            list_page_loc = ['deep', 'compare'];
        }

        else {
            list_page_loc = ['adj', 'noun'];
        }

        // page_loc
        if (card_page) {
            page_loc = list_page_loc[0];
        }
        else {
            page_loc = list_page_loc[1];
        }

        return page_loc;
    }

    //// convert color
    // javascript 에서는 rgb를 string으로 넣어야 버튼 배경색이 바뀌어서
    // 새로 function 정의
    function convert_color(name){

        var color;

        if (name == "executing"){
            color = "rgb(138, 43, 226)"
        }
        else if (name == "influencing"){
            color = "rgb(255, 139, 0)"
        }
        else if (name == "relationship"){
            color = "rgb(30, 144, 255)"
        }
        else if (name == "strategy"){
            color = "rgb(0, 153, 0)"
        }
        else {
            color = "rgb(255, 255, 255)"
        }

        return color;

    }


    //// 버튼에 이벤트 삽입
    var buttonEl = document.getElementsByClassName("talent");

    var len = buttonEl.length;
    for (let i = 0; i < len; i++) {
        buttonEl.item(i).onclick = select_talent;
    }

    var buttonEl = document.getElementsByClassName("card_type");

    var len = buttonEl.length;
    for (let i = 0; i < len; i++) {
        buttonEl.item(i).onclick = select_card_type;
    }

    document.getElementById("card").onclick = push_img;


</script>

</html>